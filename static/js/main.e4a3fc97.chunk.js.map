{"version":3,"sources":["plugins/consts/services/index.ts","plugins/consts/services/common.ts","plugins/consts/services/route.ts","plugins/consts/services/storage.ts","plugins/consts/services/socket.ts","config.ts","plugins/consts/index.ts","plugins/consts/config.ts","plugins/api/config.ts","plugins/api/interceptor.ts","plugins/api/axios.ts","plugins/api/services/common.ts","plugins/api/services/custom/index.ts","plugins/api/services/custom/controlmonitor.ts","plugins/api/services/custom/datapreview.ts","plugins/api/services/custom/home.ts","plugins/api/services/index.ts","plugins/api/services/app.ts","plugins/api/services/table.ts","plugins/api/services/edit.ts","plugins/api/index.ts","plugins/history.ts","plugins/evt.ts","layout/Header.tsx","layout/Main.tsx","layout/index.tsx","routes/index.ts","utils/predayjs.ts","main.tsx","index.tsx","stores/common.tsx","stores/app.tsx","stores/components/loading.ts","stores/modules/notice.ts","stores/modules/control.ts","utils/tools.ts"],"names":["common","name","value","route","storage","socket","config","all","options","this","const","constBuilder","sep","Object","keys","forEach","namespace","_constSingleBuilder","cst","constName","toUpperCase","defineProperty","CONST_CONFIG","AXIOS_DEFAULT_CONFIG","timeout","maxContentLength","headers","reqObj","noShowLoading","loadingStore","show","undefined","url","err","Promise","reject","data","hide","IsSuccessful","noCheckIsSuccessful","fullData","Data","noErrorToast","message","error","ErrorMessage","resErr","response","status","history","location","pathname","$consts","get","includes","axiosIns","axios","create","interceptors","request","use","interceptor","CancelToken","method","path","params","Sort","Order","Parameter10","window","host","Parameter11","axiosOptions","noAttachedData","desc","orgId","username","password","grant_type","random","verificationCode","Parameter1","Parameter2","Parameter4","Parameter5","Parameter6","Parameter7","Parameter8","controlmonitor","OrgId","ControllerId","MeasuringObjectId","ActuatorId","Type","Value","Id","Name","Cmd","StartMode","AutoInitVarId","DebugVarId","DCSVarId","IsClose","PositionNumbers","MesuringObjectId","IsSaveController","SPValue","ActuatorData","MachineId","NewGroupId","datapreview","MeasuringObjectIds","StartTime","EndTime","ActuatorIds","home","app","Key","orgid","Keyword","noPickParams","table","edit","custom","assert","condition","msg","Error","MakeApi","api","apiBuilder","_apiSingleBuilder","prefixPath","debug","apiName","pathName","apiUrl","indexOf","defineProperties","outerParams","outerOptions","getCancelToken","_params","isEmpty","assign","_outerOptions","_data","pick","_replaceURLparams","baseURL","getBaseURL","commonStore","getRequestParams","then","_normoalize","cancelToken","cancel","Function","replace","reg","key","extra","userinfo","requestPayload","postData","ORG_ID","DataRule","OrgRule","axiosDefaultConfig","API_CONFIG","createHashHistory","EventEmitter","observer","useLocation","matchLogin","useMemo","matchPath","exact","strict","className","Main","props","children","Layout","Login","React","lazy","routes","redirect","component","dayjs","extend","isSameOrBefore","fallback","map","index","RouteComponent","render","routeProps","to","ReactDOM","StrictMode","document","getElementById","initHeaders","Authorization","Tenant","RootOrgId","userid","initLoginModel","initRequestPayload","initUserinfo","ID","NAME","initBaseConfig","CODE","loginModel","baseConfig","menus","flatMenus","initCacheDone","makeObservable","observable","initCache","getItem","datas","setItem","runInAction","clear","resolve","res","Node","storeCache","token","access_token","token_type","BaseConfig","User","Menus","copyMenus","cloneDeep","recurseMenu","appStore","activeMenu","menu","LoadingStore","visible","visibleTimestamp","delay","timer","counter","isVisible","computed","action","_show","_hide","target","count","type","clearTimeout","setTimeout","Date","getTime","force","filter","length","timestamp","noticeStore","notices","activeNotice","notice","findIndex","item","TypeCode","splice","push","setActiveNotice","controlStore","groupChangeDone","isDone","replacePlaceholders","placeholder","toString","uuid","getFirstValidTree","tree","Array","isArray","Children","parentMenu","Menu","ChildMenus","idLevels","concat","nameLevels","menuLevels","MENU_LEVEL","childMenuLevels","hostname","processEnv","find","env","rootURL","base","lastIndexOf","port","substring","isNaN","findModule","prefixUrl","getSocketURL","val"],"mappings":"sRAMe,GACbA,OCPa,CAEb,CACEC,KAAM,kBACNC,MAAO,KAET,CACED,KAAM,mBACNC,MAAO,KAET,CACED,KAAM,wBACNC,MAAO,KAGT,CACED,KAAM,iBACNC,MAAO,kBAET,CACED,KAAM,2BACNC,MAAO,4BAGT,CACED,KAAM,YACNC,MAAO,0EAET,CACED,KAAM,YACNC,MAAO,8BAGT,CACED,KAAM,kBACNC,MAAO,SAET,CACED,KAAM,kBACNC,MAAO,UD/BTC,MERa,CACb,CACEF,KAAM,QACNC,MAAO,UAET,CACED,KAAM,OACNC,MAAO,kBFETE,QGRa,CACb,CACEH,KAAM,gBACNC,MAAO,iBAET,CACED,KAAM,oBACNC,MAAO,qBAGT,CACED,KAAM,gBACNC,MAAO,iBHHTG,OIVa,CACb,CACEJ,KAAM,QACNC,MAAO,SAET,CACED,KAAM,yBACNC,MAAO,CAAC,UAGV,CACED,KAAM,YACNC,MAAO,SAGT,CACED,KAAM,YACNC,MAAO,SAGT,CACED,KAAM,iBACNC,MAAO,SAGT,CACED,KAAM,eACNC,MAAO,UJhBTI,OKXkB,CAElB,CACEL,KAAM,eACNC,MAAO,OAGT,CACED,KAAM,WACNC,MAAO,OAGT,CACED,KAAM,WACNC,MAAO,CACLK,IAAK,KAGT,CACEN,KAAM,kBACNC,MAAO,QAGT,CACED,KAAM,kBACNC,MAAO,CAEL,CACED,KAAM,aACNC,MAAO,sBAGT,CACED,KAAM,mBACNC,MAAO,wBAKb,CACED,KAAM,cACNC,MAAO,CAEL,CACED,KAAM,aACNC,MAAO,0BAGT,CACED,KAAM,mBACNC,MAAO,4BASb,CACED,KAAM,eACNC,MAAO,CACL,CACED,KAAM,aACNC,MAAO,CAAC,YAAa,cAEvB,CACED,KAAM,mBACNC,MAAO,CAAC,oBCxBD,M,WA7Bb,WAAaM,GAAmB,qDAC9BC,KAAKC,MAAQ,GACbD,KAAKE,aAAaH,G,gDAGpB,YAGa,IAAD,WAFVI,WAEU,MAFJ,IAEI,MADVN,cACU,MADD,GACC,EACVO,OAAOC,KAAKR,GAAQS,SAAQ,SAACC,GAC3B,EAAKC,oBAAoBD,EAA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","file":"static/js/main.e4a3fc97.chunk.js","sourcesContent":["import common from './common'\r\nimport route from './route'\r\nimport storage from './storage'\r\nimport socket from './socket'\r\nimport config from 'src/config'\r\n\r\nexport default {\r\n  common,\r\n  route,\r\n  storage,\r\n  socket,\r\n  config\r\n}","export default [\r\n  // 时长\r\n  {\r\n    name: 'DURATION_COMMON',\r\n    value: 200\r\n  },\r\n  {\r\n    name: 'DURATION_FADE_IN',\r\n    value: 200\r\n  },\r\n  {\r\n    name: 'DURATION_ARROW_ROTATE',\r\n    value: 200\r\n  },\r\n  // 事件\r\n  {\r\n    name: 'EVENT_NAV_PAGE',\r\n    value: 'event_nav_page'\r\n  },\r\n  {\r\n    name: 'EVENT_SESSION_CHECK_DONE',\r\n    value: 'event_session_check_done'\r\n  },\r\n  // 正则\r\n  {\r\n    name: 'REG_PHONE',\r\n    value: /^1(3[0-9]|4[01456879]|5[0-35-9]|6[2567]|7[0-8]|8[0-9]|9[0-35-9])\\d{8}$/\r\n  },\r\n  {\r\n    name: 'REG_IMAGE',\r\n    value: /\\.(png|jpg|gif|jpeg|webp)$/\r\n  },\r\n  // 区域编辑菜单\r\n  {\r\n    name: 'ZONE_TOOL_STYLE',\r\n    value: 'Style'\r\n  },\r\n  {\r\n    name: 'ZONE_TOOL_MENUS',\r\n    value: 'Menus'\r\n  }\r\n]","export default [\r\n  {\r\n    name: 'LOGIN',\r\n    value: '/login'\r\n  },\r\n  {\r\n    name: 'MAIN',\r\n    value: '/main/:menuId'\r\n  }\r\n]","// 存储\r\nexport default [\r\n  {\r\n    name: 'CACHE_HEADERS',\r\n    value: 'cache_headers'\r\n  },\r\n  {\r\n    name: 'CACHE_LOGIN_MODEL',\r\n    value: 'cache_login_model'\r\n  },\r\n  // 仅用于登录页组织的默认选中，其他环境切勿使用该 ORG_ID\r\n  {\r\n    name: 'COOKIE_ORG_ID',\r\n    value: 'cookie_orgid'\r\n  }\r\n]","export default [\r\n  {\r\n    name: 'LOGIN',\r\n    value: 'P0001'\r\n  },\r\n  {\r\n    name: 'VALID_MSGLIST_TYPECODE',\r\n    value: ['M0001']\r\n  },\r\n  // 半闭环消息列表\r\n  {\r\n    name: 'LOOP_LIST',\r\n    value: 'M0001'\r\n  },\r\n  // 半闭环写入或放弃\r\n  {\r\n    name: 'LOOP_READ',\r\n    value: 'M0002'\r\n  },\r\n  // 控制器监测写入成功的消息\r\n  {\r\n    name: 'ACTUATOR_WRITE',\r\n    value: 'M0003'\r\n  },\r\n  // 页面刷新\r\n  {\r\n    name: 'PAGE_REFRESH',\r\n    value: 'M0004'\r\n  }\r\n]","const environment = [\r\n  // 服务编码\r\n  {\r\n    name: 'SERVICE_CODE',\r\n    value: 'CFG'\r\n  },\r\n  // 应用编码\r\n  {\r\n    name: 'APP_CODE',\r\n    value: 'RTM'\r\n  },\r\n  // 不同接口路径对应不同端口\r\n  {\r\n    name: 'API_PORT',\r\n    value: {\r\n      all: 91\r\n    }\r\n  },\r\n  {\r\n    name: 'API_PREFIX_PATH',\r\n    value: '/api'\r\n  },\r\n  // 不同环境对应不同 baseURL\r\n  {\r\n    name: 'AXIOS_BASE_URLS',\r\n    value: [\r\n      // 本地开发环境（MOCK接口地址）\r\n      {\r\n        name: 'LOCAL_BASE',\r\n        value: 'http://81.71.34.35'\r\n      },\r\n      // 开发联调环境（后端开发服务器接口地址）\r\n      {\r\n        name: 'DEVELOPMENT_BASE',\r\n        value: 'http://81.71.34.35'\r\n      },\r\n    ]\r\n  },\r\n  // 不同环境对应不同 socket 链接地址\r\n  {\r\n    name: 'SOCKET_URLS',\r\n    value: [\r\n      // 本地开发环境（MOCK接口地址）\r\n      {\r\n        name: 'LOCAL_BASE',\r\n        value: 'ws://81.71.34.35:3110/'\r\n      },\r\n      // 开发联调环境（后端开发服务器接口地址）\r\n      {\r\n        name: 'DEVELOPMENT_BASE',\r\n        value: 'ws://81.71.34.35:3110/'\r\n      },\r\n    ]\r\n  },\r\n  /**\r\n   * 根据 hostname 判断对应运行环境，再根据不同环境获取到不同的 baseURL\r\n   * name: AXIOS_BASE_URLS\r\n   * value: hostname\r\n   */\r\n  {\r\n    name: 'PROCESS_ENVS',\r\n    value: [\r\n      {\r\n        name: 'LOCAL_BASE',\r\n        value: ['localhost', '127.0.0.1']\r\n      },\r\n      {\r\n        name: 'DEVELOPMENT_BASE',\r\n        value: ['81.71.34.35']\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\nexport default environment","import CONST_DEFAULT_CONFIG from './config'\r\nimport CONST_CONFIG from './services'\r\n\r\ntype Options = {\r\n  sep: string,\r\n  config: any\r\n}\r\n\r\ntype Consts = {\r\n  [propsName: string]: any\r\n}\r\n\r\nclass MakeConst {\r\n  const: Consts\r\n\r\n  constructor (options: Options) {\r\n    this.const = {}\r\n    this.constBuilder(options)\r\n  }\r\n\r\n  constBuilder ({\r\n    sep = '/',\r\n    config = []\r\n  }: Options) {\r\n    Object.keys(config).forEach((namespace: string) => {\r\n      this._constSingleBuilder(namespace, {\r\n        sep,\r\n        config: config[namespace]\r\n      })\r\n    })\r\n  }\r\n\r\n  _constSingleBuilder (namespace: string, {\r\n    sep,\r\n    config\r\n  }: Options) {\r\n    config.forEach((cst: any) => {\r\n      const { name, value } = cst\r\n      const constName = `${namespace.toUpperCase()}${sep}${name}`\r\n      Object.defineProperty(this.const, constName, { value })\r\n    })\r\n  }\r\n}\r\n\r\nexport default new MakeConst({\r\n  config: CONST_CONFIG,\r\n  ...CONST_DEFAULT_CONFIG\r\n})['const']","export default {\r\n  sep: '/'\r\n}","// axios 默认配置\r\nexport const AXIOS_DEFAULT_CONFIG = {\r\n  timeout: 20000,\r\n  maxContentLength: 2000,\r\n  headers: {\r\n    'Authorization': 'Bearer '\r\n  }\r\n}\r\n\r\nexport const API_DEFAULT_CONFIG = {\r\n  // 修正路径，可用这个控制接口版本号，比如 /apiv2\r\n  prefixPath: '/api',\r\n  // this.$api['common/getUserInfo'] 中的 common/getUserInfo 分隔符，分割命名空间和接口\r\n  sep: '/',\r\n  // 是否开启接口 console 输出\r\n  debug: false\r\n}\r\n\r\n// 开启请求参数打印\r\nexport const CONSOLE_REQUEST_ENABLE = false\r\n\r\n// 开启响应参数打印\r\nexport const CONSOLE_RESPONSE_ENABLE = false","import { message } from 'antd'\r\nimport { CONSOLE_REQUEST_ENABLE, CONSOLE_RESPONSE_ENABLE } from './config'\r\nimport { loadingStore } from 'src/stores'\r\nimport { history, $consts } from 'src/plugins'\r\nimport { get } from 'lodash'\r\n\r\nconst reqSuccess = (reqObj: any) => {\r\n  CONSOLE_REQUEST_ENABLE && console.info('request success', reqObj.url, reqObj)\r\n  !reqObj.noShowLoading && loadingStore.show(undefined, reqObj.url)\r\n  return reqObj\r\n}\r\n\r\nconst reqFail = (err: any) => {\r\n  return Promise.reject(err)\r\n}\r\n\r\nconst resSuccess = ({ data, config }: any) => {\r\n  CONSOLE_RESPONSE_ENABLE && console.log('response success', data, config)\r\n  !config.noShowLoading && loadingStore.hide(undefined, config.url)\r\n  if (!data.IsSuccessful && !config.noCheckIsSuccessful) {\r\n    // 全局错误提示\r\n    if (!config.noErrorToast) {\r\n      message.error(data.ErrorMessage)\r\n    }\r\n    return Promise.reject(data)\r\n  }\r\n  return config.fullData ? data : data.Data\r\n}\r\n\r\nconst resFail = (resErr: any) => {\r\n  !resErr.config.noShowLoading && loadingStore.hide(undefined, resErr.config.url)\r\n  if (resErr.response) {\r\n    switch (resErr.response.status) {\r\n      case 401: // 登录过期\r\n        const { pathname } = history.location\r\n        if (pathname !== $consts['ROUTE/LOGIN']) {\r\n          // todo 重新登录\r\n        }\r\n        resErr.config.noErrorToast = true\r\n        break\r\n      default:\r\n        resErr.message = get(resErr, 'response.data.error_description', '网络错误')\r\n        break\r\n    }\r\n  } else {\r\n    resErr.message = '网络错误'\r\n  }\r\n\r\n  // 超时提示\r\n  if (resErr.message.includes('timeout')) {\r\n    resErr.message = '请求超时'\r\n  }\r\n\r\n  // 全局错误提示\r\n  if (!resErr.config.noErrorToast) {\r\n    message.error(resErr.message)\r\n  }\r\n\r\n  return Promise.reject(resErr)\r\n}\r\n\r\nexport default {\r\n  reqSuccess,\r\n  reqFail,\r\n  resSuccess,\r\n  resFail\r\n}","import axios from 'axios'\r\nimport interceptor from './interceptor'\r\nimport { AXIOS_DEFAULT_CONFIG } from './config'\r\n\r\nconst axiosIns = axios.create(AXIOS_DEFAULT_CONFIG)\r\naxiosIns.interceptors.request.use(interceptor.reqSuccess, interceptor.reqFail)\r\naxiosIns.interceptors.response.use(interceptor.resSuccess, interceptor.resFail)\r\n\r\nconst CancelToken = axios.CancelToken\r\nexport { CancelToken }\r\nexport default axiosIns","import { $consts } from 'src/plugins'\r\n\r\nexport default [\r\n  {\r\n    name: 'getOrgList',\r\n    method: 'POST',\r\n    path: '/OP/TenantInfo/GetOrgList',\r\n    params: {\r\n      Sort: 'CODE',\r\n      Order: 0,\r\n      Parameter10: window.location.host,\r\n      Parameter11: '0'\r\n    },\r\n    axiosOptions: {\r\n      noAttachedData: true\r\n    },\r\n    desc: '获取组织'\r\n  },\r\n  {\r\n    name: 'getToken',\r\n    method: 'POST',\r\n    path: '/ENT/Token/Gen',\r\n    params: {\r\n      orgId: '',\r\n      username: '',\r\n      password: '',\r\n      grant_type: 0,\r\n      random: '',\r\n      verificationCode: ''\r\n    },\r\n    axiosOptions: {\r\n      noAttachedData: true,\r\n      noCheckIsSuccessful: true,\r\n      fullData: true\r\n    },\r\n    desc: '获取TOKEN'\r\n  },\r\n  {\r\n    name: 'login',\r\n    method: 'POST',\r\n    path: '/ENT/Login/Login',\r\n    params: {\r\n      Parameter1: '',\r\n      Parameter2: '',\r\n      Parameter4: '',\r\n      Parameter5: '',\r\n      Parameter6: false,\r\n      Parameter7: '',\r\n      Parameter8: $consts['CONFIG/APP_CODE']\r\n    },\r\n    desc: '登录接口'\r\n  },\r\n  {\r\n    name: 'getAllEnum',\r\n    method: 'GET',\r\n    path: '/OP/Extend/GetAllEnum',\r\n    params: {},\r\n    desc: '获取所有枚举'\r\n  }\r\n]","import controlmonitor from './controlmonitor'\r\nimport datapreview from './datapreview'\r\nimport home from './home'\r\n\r\nexport default {\r\n  controlmonitor,\r\n  datapreview,\r\n  home\r\n}","export default [\r\n  {\r\n    name: 'getGroupInfo',\r\n    method: 'GET',\r\n    path: '/CFG/ControllerMonitor/GetGroupInfo',\r\n    params: {\r\n      OrgId: ''\r\n    },\r\n    desc: '获取控制器组信息'\r\n  },\r\n  {\r\n    name: 'getControllerInfo',\r\n    method: 'GET',\r\n    path: '/CFG/ControllerMonitor/GetControllerInfo',\r\n    params: {\r\n      ControllerId: ''\r\n    },\r\n    desc: '获取控制器详细信息'\r\n  },\r\n  {\r\n    name: 'getControllerStatus',\r\n    method: 'GET',\r\n    path: '/CFG/ControllerMonitor/GetControllerStatus',\r\n    params: {\r\n      ControllerId: ''\r\n    },\r\n    desc: '获取控制器状态信息'\r\n  },\r\n  {\r\n    name: 'getPositionData',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/GetPositionData',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: '',\r\n      ActuatorId: ''\r\n    },\r\n    desc: '获取控制器位号数据'\r\n  },\r\n  {\r\n    name: 'updateControllerEnableOption',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/UpdateControllerEnableOption',\r\n    params: {\r\n      ControllerId: '',\r\n      Type: '',\r\n      Value: ''\r\n    },\r\n    desc: '获取控制器位号数据'\r\n  },\r\n  {\r\n    name: 'setStatus',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/SetStatus',\r\n    params: {\r\n      Id: '',\r\n      Name: '',\r\n      Cmd: ''\r\n    },\r\n    desc: '设置控制器状态'\r\n  },\r\n  {\r\n    name: 'updateContrllerStartMode',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/UpdateContrllerStartMode',\r\n    params: {\r\n      ControllerId: '',\r\n      StartMode: ''\r\n    },\r\n    desc: '设置控制器状态'\r\n  },\r\n  {\r\n    name: 'updateContorlSet',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/UpdateControllerSetting',\r\n    params: {\r\n      ControllerId: '',\r\n      AutoInitVarId: '',\r\n      DebugVarId: '',\r\n      DCSVarId: ''\r\n    },\r\n    desc: '设置控制器状态'\r\n  },\r\n  {\r\n    name: 'openOrCloseAllLoop',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/OpenOrCloseAllLoop',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      IsClose: '',\r\n      MeasuringObjectId: ''\r\n    },\r\n    desc: '设置控制器全开闭环状态'\r\n  },\r\n  {\r\n    name: 'openOrCloseLoop',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/OpenOrCloseLoop',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      IsClose: '',\r\n      MeasuringObjectId: '',\r\n      PositionNumbers: []\r\n    },\r\n    desc: '设置控制器选中开闭环状态'\r\n  },\r\n  {\r\n    name: 'writeSetSPValue',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/WriteSetSPValue',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      PositionNumbers: []\r\n    },\r\n    desc: '手动设定SP写入操作'\r\n  },\r\n  {\r\n    name: 'saveSetSPValue',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/SaveSetSPValue',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      PositionNumbers: []\r\n    },\r\n    desc: '手动设定SP保存操作'\r\n  },\r\n  {\r\n    name: 'restoreSetSPValue',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/RestoreSetSPValue',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: ''\r\n    },\r\n    desc: '手动设定SP还原操作'\r\n  },\r\n  {\r\n    name: 'setTargetDeviation',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/SetTargetDeviation',\r\n    params: {\r\n      ControllerId: '',\r\n      MesuringObjectId: '',\r\n      Value: '',\r\n      IsSaveController: false\r\n    },\r\n    desc: '控制器设置测量目标偏置量'\r\n  },\r\n  {\r\n    name: 'setSPValue',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/SetSPValue',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      SPValue: ''\r\n    },\r\n    desc: '预设SP值'\r\n  },\r\n  {\r\n    name: 'getActuatorByWrite',\r\n    method: 'GET',\r\n    path: '/CFG/ControllerMonitor/GetActuatorByWrite',\r\n    params: {\r\n      ControllerId: ''\r\n    },\r\n    desc: '获取需要写入的执行器列表(半闭环开窗)'\r\n  },\r\n  {\r\n    name: 'writeSemiClosedLoopData',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/WriteSemiClosedLoopData',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorData: ''\r\n    },\r\n    desc: '控制器半闭环写入操作(可多个执行器一起)'\r\n  },\r\n  {\r\n    name: 'giveUpSemiClosedLoopData',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/GiveUpSemiClosedLoopData',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      MeasuringObjectId: ''\r\n    },\r\n    desc: '控制器半闭环放弃操作'\r\n  },\r\n  {\r\n    name: 'saveMeasuringObjectSnapshot',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/SaveMeasuringObjectSnapshot',\r\n    params: {\r\n      Id: '' // 测量对象 Id\r\n    },\r\n    desc: '控制器中测量对象快照操作'\r\n  },\r\n  {\r\n    name: 'saveActuatorSnapshot',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/SaveActuatorSnapshot',\r\n    params: {\r\n      Id: '' // 执行器 Id\r\n    },\r\n    desc: '控制器中执行器快照操作'\r\n  },\r\n  {\r\n    name: 'getOtherControllerGroups',\r\n    method: 'GET',\r\n    path: '/CFG/ControllerMonitor/GetOtherControllerGroups',\r\n    params: {\r\n      MachineId: ''\r\n    },\r\n    desc: '获取其他控制器组'\r\n  },\r\n  {\r\n    name: 'manualExchangeGroup',\r\n    method: 'POST',\r\n    path: '/CFG/ControllerMonitor/ManualExchangeGroup',\r\n    params: {\r\n      MachineId: '',\r\n      NewGroupId: ''\r\n    },\r\n    desc: '手动切换组'\r\n  }\r\n]","export default [\r\n  {\r\n    name: 'getControllerInfo',\r\n    method: 'GET',\r\n    path: '/CFG/DataPreview/GetControllerInfo',\r\n    params: {\r\n      ControllerId: ''\r\n    },\r\n    desc: '获取控制器详细信息'\r\n  },\r\n  {\r\n    name: 'getMeasuringObjectListByActuator',\r\n    method: 'GET',\r\n    path: '/CFG/DataPreview/GetMeasuringObjectListByActuator',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: ''\r\n    },\r\n    desc: '获取当前控制器下当前执行器下的测量对象列表'\r\n  },\r\n  {\r\n    name: 'getActuatorRealTimeData',\r\n    method: 'GET',\r\n    path: '/CFG/DataPreview/GetActuatorRealTimeData',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: ''\r\n    },\r\n    desc: '获取执行器实时数据-位号数据'\r\n  },\r\n  {\r\n    name: 'setSnapshotByActuator',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/SetSnapshotByActuator',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      MeasuringObjectIds: []\r\n    },\r\n    desc: '设置执行器预览快照'\r\n  },\r\n  {\r\n    name: 'getRealTimeDataByMV',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetRealTimeDataByMV',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      MeasuringObjectIds: []\r\n    },\r\n    desc: '实时数据-执行器关联的测量对象位号数据'\r\n  },\r\n  {\r\n    name: 'getAvgOrSigmaDataByMV',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetAvgOrSigmaDataByMV',\r\n    params: {\r\n      Type: '',\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      MeasuringObjectIds: [],\r\n      StartTime: '',\r\n      EndTime: ''\r\n    },\r\n    desc: '执行器预览-平均/2σ数据'\r\n  },\r\n  {\r\n    name: 'getActuatorHistoryData',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetActuatorHistoryData',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      StartTime: '',\r\n      EndTime: ''\r\n    },\r\n    desc: '执行器预览-历史数据'\r\n  },\r\n  {\r\n    name: 'getHistoryDataByMV',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetHistoryDataByMV',\r\n    params: {\r\n      ControllerId: '',\r\n      ActuatorId: '',\r\n      MeasuringObjectIds: [],\r\n      StartTime: '',\r\n      EndTime: ''\r\n    },\r\n    desc: '执行器预览-历史数据-执行器关联测量对象历史数据'\r\n  },\r\n  {\r\n    name: 'getActuatorListByMeasuringObject',\r\n    method: 'GET',\r\n    path: '/CFG/DataPreview/GetActuatorListByMeasuringObject',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: ''\r\n    },\r\n    desc: '获取当前控制器下当前测量对象下的执行器列表'\r\n  },\r\n  {\r\n    name: 'getMeasuringObjectRealTimeData',\r\n    method: 'GET',\r\n    path: '/CFG/DataPreview/GetMeasuringObjectRealTimeData',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: ''\r\n    },\r\n    desc: '获取测量对象实时数据-位号数据'\r\n  },\r\n  {\r\n    name: 'setSnapshotByMeasuringObject',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/SetSnapshotByMeasuringObject',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: '',\r\n      ActuatorIds: []\r\n    },\r\n    desc: '设置测量对象预览快照'\r\n  },\r\n  {\r\n    name: 'getRealTimeDataByCV',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetRealTimeDataByCV',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: '',\r\n      ActuatorIds: []\r\n    },\r\n    desc: '获取测量对象实时数据-位号数据'\r\n  },\r\n  {\r\n    name: 'getAvgOrSigmaDataByCV',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetAvgOrSigmaDataByCV',\r\n    params: {\r\n      Type: '',\r\n      ControllerId: '',\r\n      MeasuringObjectId: '',\r\n      ActuatorIds: [],\r\n      StartTime: '',\r\n      EndTime: ''\r\n    },\r\n    desc: '测量对象预览-平均/2σ数据'\r\n  },\r\n  {\r\n    name: 'getMeasuringObjectHistoryData',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetMeasuringObjectHistoryData',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: '',\r\n      StartTime: '',\r\n      EndTime: ''\r\n    },\r\n    desc: '测量对象预览-历史数据'\r\n  },\r\n  {\r\n    name: 'getHistoryDataByCV',\r\n    method: 'POST',\r\n    path: '/CFG/DataPreview/GetHistoryDataByCV',\r\n    params: {\r\n      ControllerId: '',\r\n      MeasuringObjectId: '',\r\n      ActuatorIds: [],\r\n      StartTime: '',\r\n      EndTime: ''\r\n    },\r\n    desc: '测量对象预览-历史数据-测量对象关联执行器历史数据'\r\n  }\r\n]","export default [\r\n  {\r\n    name: 'getMachines',\r\n    method: 'GET',\r\n    path: '/CFG/Machine/GetMachines',\r\n    params: {\r\n      OrgId: ''\r\n    },\r\n    desc: '获取组织下的全部纸机'\r\n  },\r\n  {\r\n    name: 'getOneDetail',\r\n    method: 'GET',\r\n    path: '/CFG/Machine/GetOneDetail',\r\n    params: {\r\n      OrgId: ''\r\n    },\r\n    desc: '获取单个纸机'\r\n  },\r\n  {\r\n    name: 'getActuatorsByMachine',\r\n    method: 'GET',\r\n    path: '/CFG/Machine/GetActuatorsByMachine',\r\n    params: {\r\n      OrgId: ''\r\n    },\r\n    desc: '获取当前正在跑的控制组下的所有在跑控制器下的执行器及测量对象'\r\n  },\r\n  {\r\n    name: 'getMachineCurveData',\r\n    method: 'POST',\r\n    path: '/CFG/Machine/GetMachineCurveData',\r\n    params: {\r\n      ActuatorId: '',\r\n      MeasuringObjectIds: []\r\n    },\r\n    desc: '获取当前正在跑的控制组下的所有在跑控制器下的测量对象数据每天统计'\r\n  },\r\n]","import common from './common'\r\nimport app from './app'\r\nimport table from './table'\r\nimport edit from './edit'\r\nimport custom from './custom'\r\n\r\nexport default {\r\n  common,\r\n  app,\r\n  table,\r\n  edit,\r\n  ...custom\r\n}","export default [\r\n  {\r\n    name: 'getByRedis',\r\n    method: 'GET',\r\n    path: '/OP/Form/GetByRedis',\r\n    params: {\r\n      Key: '',\r\n      orgid: ''\r\n    },\r\n    desc: '获取表单配置'\r\n  },\r\n  {\r\n    name: 'getCustomPageConfigInfo',\r\n    method: 'POST',\r\n    path: '/OP/PageCustom/GetCustomPageConfigInfo',\r\n    params: {\r\n      Keyword: '',\r\n      OrgId: ''\r\n    },\r\n    desc: '获取自定义表单配置'\r\n  },\r\n  {\r\n    name: 'getDataByPost',\r\n    method: 'POST',\r\n    path: '/',\r\n    params: {},\r\n    axiosOptions: {\r\n      noPickParams: true\r\n    },\r\n    desc: '自定义URL请求的POST方法'\r\n  },\r\n  {\r\n    name: 'getDataByGet',\r\n    method: 'GET',\r\n    path: '/',\r\n    params: {},\r\n    axiosOptions: {\r\n      noPickParams: true\r\n    },\r\n    desc: '自定义URL请求的GET方法'\r\n  },\r\n  {\r\n    name: 'orderPagedTwo',\r\n    method: 'POST',\r\n    path: '/VAR/Var/OrderPagedTwo',\r\n    params: {},\r\n    axiosOptions: {\r\n      noPickParams: true,\r\n      fullData: true\r\n    },\r\n    desc: '获取变量分页接口'\r\n  }\r\n]","export default [\r\n  {\r\n    name: 'getTablePageConfigInfo',\r\n    method: 'POST',\r\n    path: '/OP/PageTable/GetTablePageConfigInfo',\r\n    params: {},\r\n    axiosOptions: {\r\n      noPickParams: true\r\n    },\r\n    desc: '获取 form 对应的 tables 表格的配置信息'\r\n  },\r\n  {\r\n    name: 'getTablePageTables',\r\n    method: 'POST',\r\n    path: '/OP/PageTable/GetTablePageTables',\r\n    params: {},\r\n    axiosOptions: {\r\n      noPickParams: true\r\n    },\r\n    desc: '获取 form 对应的列表表单配置'\r\n  }\r\n]","export default [\r\n  {\r\n    name: 'getEditPageConfigInfo',\r\n    method: 'POST',\r\n    path: '/OP/PageEdit/GetEditPageConfigInfo',\r\n    params: {},\r\n    axiosOptions: {\r\n      noPickParams: true\r\n    },\r\n    desc: '获取编辑表单配置信息'\r\n  }\r\n]","import axios, { CancelToken } from './axios'\r\n// 数据 store\r\nimport { commonStore } from 'src/stores'\r\n// 配置\r\nimport { AXIOS_DEFAULT_CONFIG as axiosDefaultConfig, API_DEFAULT_CONFIG } from './config'\r\nimport API_CONFIG from './services'\r\n// 工具库\r\nimport { getBaseURL } from 'src/utils/tools'\r\nimport { pick, assign, isEmpty } from 'lodash'\r\n\r\nconst assert = (condition: boolean | string, msg: string): void => {\r\n  if (!condition) {\r\n    throw new Error(`[ApiErr] ${msg}`)\r\n  }\r\n}\r\n\r\ntype Api = {\r\n  [propsName: string]: any\r\n}\r\n\r\ntype Options = {\r\n  prefixPath: string,\r\n  sep: string,\r\n  debug: boolean,\r\n  config: any\r\n}\r\n\r\ntype ConfItem = {\r\n  name: string,\r\n  method: string,\r\n  path: string,\r\n  params: any,\r\n  axiosOptions: any,\r\n  desc: string\r\n}\r\n\r\ntype Params = {\r\n  fullData?: boolean,\r\n  noPickParams?: boolean,\r\n  noAttachedData?: boolean,\r\n  noErrorToast?: boolean,\r\n  noCheckIsSuccessful?: boolean,\r\n  noShowLoading?: boolean,\r\n  [propName: string]: any\r\n}\r\n\r\nclass MakeApi {\r\n  api: Api\r\n\r\n  constructor (options: Options) {\r\n    this.api = {}\r\n    this.apiBuilder(options)\r\n  }\r\n\r\n  apiBuilder (options: Options) {\r\n    Object.keys(options.config).forEach(namespace => {\r\n      this._apiSingleBuilder(namespace, { ...options, config: options.config[namespace] })\r\n    })\r\n  }\r\n\r\n  _apiSingleBuilder (namespace: string, { prefixPath, sep, debug, config }: Options) {\r\n    config.forEach((api: ConfItem) => {\r\n      const { name, method, path, params, axiosOptions } = api\r\n      const apiName = `${namespace}${sep}${name}`\r\n      const pathName = `path://${namespace}${sep}${name}`\r\n      const apiUrl = path\r\n\r\n      debug && assert(name, `${apiUrl}: 接口name属性不能为空`)\r\n      debug && assert(apiUrl.indexOf('/') === 0, `${apiUrl}: 接口路径path，首字符应为/`)\r\n\r\n      Object.defineProperties(this.api, {\r\n        [apiName]: {\r\n          /**\r\n           * $api['common/dataMap'](outerParams, outerOptions, getCancenToken)\r\n           * @param {Object} outerParams 接口请求所需携带的参数\r\n           * @param {Object} outerOptions axios 的配置参数，与 url、method 同级，例如 { fullData: true }，该配置可在 response.config 中取到\r\n           * @param {Function} getCancelToken 用于取消接口调用，调用参数为 cancel 实例，调用 cancel.cancel() 就能取消\r\n           * @returns \r\n           */\r\n          value: function (\r\n            outerParams: any,\r\n            outerOptions: Params = {\r\n              fullData: false, // 全部数据返回，false 则只返回 Data 里面的数据\r\n              noPickParams: false, // true: 不根据 api 配置的 params 过滤参数，false: 根据配置的 params 过滤参数\r\n              noAttachedData: false, // true: 不附加额外的请求参数\r\n              noErrorToast: false, // true: 不显示接口错误信息 false: 显示接口错误信息\r\n              noCheckIsSuccessful: false, // true: 兼容不标准的返回体\r\n              noShowLoading: false // true: 不显示加载中动画\r\n            },\r\n            getCancelToken?: Function\r\n          ) {\r\n            const _params = isEmpty(outerParams) ? params : assign({}, params, outerParams)\r\n            // 经过 pick 处理，就能以 params 中定义存在的属性为准，避免传递不需要的参数给后端\r\n            const _outerOptions = assign({}, outerOptions, axiosOptions)\r\n            const _data = _outerOptions.noPickParams ? _params : pick(_params, Object.keys(params))\r\n            const url = _replaceURLparams(apiUrl, _params)\r\n            const baseURL = getBaseURL(url, prefixPath)\r\n            // 本地存储的 token 由于 storage 是异步的，所以使用 Promise 来保证接口发起之前取得 token\r\n            return commonStore.getRequestParams().then((params: any) => {\r\n              return axios(_normoalize(assign({\r\n                baseURL,\r\n                url,\r\n                method,\r\n                cancelToken: new CancelToken(function (cancel) {\r\n                  // 用于取消 axios 请求，通过 getCancelToken 方法将 cancel 实例传出去，调用 cancel.cancel() 就能取消请求\r\n                  getCancelToken instanceof Function && getCancelToken(cancel)\r\n                })\r\n              }, _outerOptions), _data, params))\r\n            })\r\n          }\r\n        },\r\n        [pathName]: { value: apiUrl }\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * 替换 services -> common.js 文件中的 path 属性中定义的字段\r\n * 例如：/text/path/:category，如果请求参数中存在 { category: 'baseType' }\r\n * 那么该请求路径会被替换为：/text/path/baseType\r\n * @param {string} url 接口请求路径\r\n * @param {Object} data 默认请求参数对象\r\n * @returns \r\n */\r\nfunction _replaceURLparams (url: string, data: any) {\r\n  return url.replace(/:([\\w\\d]+)/ig, (reg, key) => {\r\n    return data[key]\r\n  })\r\n}\r\n\r\n/**\r\n * 决定 axios 请求的载体是 data(POST等) 还是 params(GET)\r\n * @param options axios 的配置项\r\n * @param data axios 请求的数据\r\n * @param extra 额外约定的数据\r\n * @returns \r\n */\r\nfunction _normoalize (options: any, data: any, extra: any) {\r\n  const method = options.method.toUpperCase()\r\n  const { headers, userinfo, requestPayload } = extra\r\n  const postData = options.noAttachedData ? data : {\r\n    ...data,\r\n    OrgId: userinfo.ORG_ID,\r\n    DataRule: requestPayload.DataRule,\r\n    OrgRule: requestPayload.OrgRule\r\n  }\r\n  if (['POST', 'PUT', 'PATCH', 'DELETE'].includes(method)) {\r\n    options.data = postData\r\n  } else {\r\n    options.params = data\r\n  }\r\n  // 添加统一的认证token\r\n  options.headers = {\r\n    ...axiosDefaultConfig.headers,\r\n    ...options.headers,\r\n    ...headers\r\n  }\r\n  return options\r\n}\r\n\r\nexport default new MakeApi({\r\n  config: API_CONFIG,\r\n  ...API_DEFAULT_CONFIG\r\n})['api']","import { createHashHistory } from 'history'\r\n\r\nexport default createHashHistory()\r\n","import EventEmitter from 'eventemitter3'\r\n\r\nexport default new EventEmitter()","import { useMemo } from 'react'\r\nimport { useLocation, matchPath } from 'react-router-dom'\r\nimport { observer } from 'mobx-react'\r\nimport { $consts } from 'src/plugins'\r\nimport 'src/styles/layout/header.less'\r\n\r\nconst Header = () => {\r\n  const location = useLocation()\r\n\r\n  const matchLogin = useMemo<any>(() => {\r\n    return matchPath(location.pathname, {\r\n      path: $consts['ROUTE/LOGIN'],\r\n      exact: true,\r\n      strict: true\r\n    })\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <div className={`header ${matchLogin ? 'login' : ''}`}>\r\n      <div className='header__left'>\r\n      </div>\r\n      <div className='header__right'>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default observer(Header)\r\n","import { useMemo } from 'react'\r\nimport { useLocation, matchPath } from 'react-router-dom'\r\nimport Header from './Header'\r\nimport { $consts } from 'src/plugins'\r\nimport 'src/styles/layout/main.less'\r\n\r\nconst Main = (props: any) => {\r\n  const location = useLocation()\r\n\r\n  const matchLogin = useMemo(() => {\r\n    return matchPath(location.pathname, {\r\n      path: $consts['ROUTE/LOGIN'],\r\n      exact: true,\r\n      strict: true\r\n    })\r\n  }, [location.pathname])\r\n\r\n  return (\r\n    <div className={`main ${matchLogin ? 'float' : ''}`}>\r\n      <div className='main__header'><Header /></div>\r\n      <div className='main__body full-width'>\r\n        <div className='main__body-content'>{props.children}</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Main","import Main from './Main'\r\n\r\nconst Layout = (props: any) => {\r\n  return <Main>{props.children}</Main>\r\n}\r\n\r\nexport default Layout","import React from 'react'\r\nimport { $consts } from 'src/plugins'\r\n\r\nconst Login = React.lazy(() => import('src/modules/login'))\r\nconst Main = React.lazy(() => import('src/modules/main'))\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    redirect: $consts['ROUTE/MAIN'],\r\n    component: () => null\r\n  },\r\n  {\r\n    path: $consts['ROUTE/LOGIN'],\r\n    component: Login\r\n  },\r\n  {\r\n    path: $consts['ROUTE/MAIN'],\r\n    component: Main\r\n  }\r\n]\r\n\r\nexport default routes","import dayjs from 'dayjs'\r\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore'\r\n\r\ndayjs.extend(isSameOrBefore)","import { Suspense } from 'react'\r\nimport {\r\n  Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from 'react-router-dom'\r\nimport { history } from 'src/plugins'\r\nimport Layout from 'src/layout'\r\nimport routes from 'src/routes'\r\nimport 'src/utils/predayjs'\r\nimport 'src/styles/index.less'\r\n\r\n// Suspense fallback 可以添加一个页面加载的 Loading 组件\r\nconst Main = () => {\r\n  return (\r\n    <Router history={history}>\r\n      <Layout>\r\n        <Switch>\r\n          <Suspense fallback={<div />}>\r\n            {\r\n              routes.map((route, index) => {\r\n                const { path, redirect, component: RouteComponent } = route\r\n                return (\r\n                  <Route\r\n                    key={`${path}-${index}`}\r\n                    exact\r\n                    path={path}\r\n                    render={routeProps => {\r\n                      return redirect ? <Redirect to={redirect} /> : <RouteComponent {...routeProps} />\r\n                    }}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n          </Suspense>\r\n        </Switch>\r\n      </Layout>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default Main","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport Main from './main'\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","import { makeObservable, observable, runInAction } from 'mobx'\r\nimport { $consts } from 'src/plugins'\r\nimport storage from 'localforage'\r\nimport { recurseMenu } from 'src/utils/tools'\r\nimport { cloneDeep } from 'lodash'\r\n\r\ntype Headers = {\r\n  Authorization: string,\r\n  Tenant: string,\r\n  RootOrgId: string,\r\n  orgId: string,\r\n  userid: string,\r\n  username: string\r\n}\r\n\r\ntype LoginModel = {\r\n  username: string,\r\n  password: string,\r\n  orgId: string\r\n}\r\n\r\ntype RequestPayload = {\r\n  OrgRule: Array<string>,\r\n  DataRule: Array<string>\r\n}\r\n\r\ntype UserInfo = {\r\n  ID: string,\r\n  ORG_ID: string,\r\n  NAME: string,\r\n  [propName: string]: any\r\n}\r\n\r\ntype BaseConfig = {\r\n  ID: string,\r\n  CODE: string,\r\n  NAME: string,\r\n  [propName: string]: any\r\n}\r\n\r\nconst initHeaders = { Authorization: 'Bearer ', Tenant: '', RootOrgId: '', orgId: '', userid: '', username: '' }\r\nconst initLoginModel = { username: '', password: '', orgId: '' }\r\nconst initRequestPayload = { OrgRule: [], DataRule: [] }\r\nconst initUserinfo = { ID: '', ORG_ID: '', NAME: '' }\r\nconst initBaseConfig = { ID: '', CODE: '', NAME: '' }\r\nclass CommonStore {\r\n  /**\r\n   * 将初始化的步骤移动到 constructor 中，\r\n   * 并且请务必初始化，否则 babel 插件 plugin-transform-flow-strip-types 编译失败，\r\n   * 相关联 issue: \r\n   * https://github.com/react-navigation/react-navigation/issues/5825#issuecomment-590723220\r\n   * https://github.com/facebook/react-native/issues/20150#issuecomment-417858270\r\n   */\r\n  headers: Headers\r\n  loginModel: LoginModel\r\n  requestPayload: RequestPayload\r\n  userinfo: UserInfo\r\n  baseConfig: BaseConfig\r\n  menus: Array<any>\r\n  flatMenus: Array<any>\r\n  initCacheDone: boolean\r\n\r\n  constructor () {\r\n    this.headers = initHeaders\r\n    this.loginModel = initLoginModel\r\n    this.requestPayload = initRequestPayload\r\n    this.userinfo = initUserinfo\r\n    this.baseConfig = initBaseConfig\r\n    this.menus = [] // 菜单\r\n    this.flatMenus = [] // 一维菜单\r\n    this.initCacheDone = false\r\n\r\n    makeObservable(this, {\r\n      userinfo: observable,\r\n      baseConfig: observable,\r\n      menus: observable,\r\n      flatMenus: observable\r\n    })\r\n    this.initCache()\r\n  }\r\n\r\n  initCache () {\r\n    return Promise.all([\r\n      storage.getItem($consts['STORAGE/CACHE_HEADERS']),\r\n      storage.getItem($consts['STORAGE/CACHE_LOGIN_MODEL'])\r\n    ]).then(datas => {\r\n      const [headers, loginModel] = datas as any\r\n      this.headers = headers || initHeaders\r\n      this.loginModel = loginModel || initLoginModel\r\n      this.initCacheDone = true\r\n      return { headers: this.headers, loginModel: this.loginModel }\r\n    })\r\n  }\r\n\r\n  storeCache () {\r\n    return Promise.all([\r\n      storage.setItem($consts['STORAGE/CACHE_HEADERS'], this.headers),\r\n      storage.setItem($consts['STORAGE/CACHE_LOGIN_MODEL'], this.loginModel)\r\n    ])\r\n  }\r\n\r\n  resetCache () {\r\n    this.headers = initHeaders\r\n    this.loginModel = initLoginModel\r\n    this.requestPayload = initRequestPayload\r\n    runInAction(() => {\r\n      this.userinfo = initUserinfo\r\n      this.baseConfig = initBaseConfig\r\n      this.menus = []\r\n      this.flatMenus = []\r\n    })\r\n    this.initCacheDone = false\r\n    storage.clear()\r\n  }\r\n\r\n  getLoginModel () {\r\n    return new Promise((resolve) => {\r\n      if (this.initCacheDone) {\r\n        resolve(this.loginModel)\r\n      } else {\r\n        this.initCache().then(res => {\r\n          resolve(res.loginModel)\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  getRequestParams () {\r\n    return new Promise((resolve) => {\r\n      if (this.initCacheDone) {\r\n        resolve({\r\n          headers: this.headers,\r\n          userinfo: this.userinfo,\r\n          requestPayload: this.requestPayload\r\n        })\r\n      } else {\r\n        this.initCache().then(res => {\r\n          resolve({\r\n            headers: res.headers,\r\n            userinfo: this.userinfo,\r\n            requestPayload: this.requestPayload\r\n          })\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  setOrgInfo (data: any) {\r\n    const { Tenant = '', Data = [] } = data\r\n    this.headers = {\r\n      ...this.headers,\r\n      Tenant,\r\n      RootOrgId: Data[0]?.Node?.ID || ''\r\n    }\r\n    this.storeCache()\r\n  }\r\n\r\n  setAccessToken (token: any) {\r\n    const { access_token, token_type } = token\r\n    this.headers = {\r\n      ...this.headers,\r\n      Authorization: `${token_type} ${access_token}`\r\n    }\r\n    this.storeCache()\r\n  }\r\n\r\n  setLoginData (data: any, loginModel?: LoginModel) {\r\n    const { BaseConfig, DataRule, OrgRule, User, Menus } = data\r\n    const { ID: userid, CODE: username, ORG_ID: orgId } = User\r\n    // 存储相关数据\r\n    this.headers = { ...this.headers, userid, username, orgId }\r\n    this.loginModel = { ...this.loginModel, ...loginModel }\r\n    this.storeCache()\r\n    // 请求相关参数\r\n    this.requestPayload = { ...this.requestPayload, DataRule, OrgRule }\r\n    // 拍平菜单树\r\n    const flatMenus: any = []\r\n    const copyMenus = cloneDeep(Menus)\r\n    recurseMenu(copyMenus, undefined, flatMenus)\r\n\r\n    runInAction(() => {\r\n      this.userinfo = User\r\n      this.baseConfig = BaseConfig\r\n      this.menus = copyMenus\r\n      this.flatMenus = flatMenus\r\n    })\r\n  }\r\n}\r\n\r\nconst commonStore = new CommonStore()\r\n\r\nexport default commonStore","import { makeObservable, observable, runInAction } from 'mobx'\r\n\r\nclass AppStore {\r\n  /**\r\n   * 将初始化的步骤移动到 constructor 中，\r\n   * 并且请务必初始化，否则 babel 插件 plugin-transform-flow-strip-types 编译失败，\r\n   * 相关联 issue: \r\n   * https://github.com/react-navigation/react-navigation/issues/5825#issuecomment-590723220\r\n   * https://github.com/facebook/react-native/issues/20150#issuecomment-417858270\r\n   */\r\n  activeMenu: any\r\n\r\n  constructor () {\r\n    this.activeMenu = undefined\r\n\r\n    makeObservable(this, {\r\n      activeMenu: observable\r\n    })\r\n  }\r\n\r\n  setActiveMenu (menu: any) {\r\n    runInAction(() => {\r\n      this.activeMenu = menu\r\n    })\r\n  }\r\n}\r\n\r\nconst appStore = new AppStore()\r\n\r\nexport default appStore","import { makeObservable, observable, action, computed } from 'mobx'\r\n\r\nclass LoadingStore {\r\n  visible: boolean\r\n  msg?: string\r\n\r\n  visibleTimestamp: number\r\n  delay: number\r\n  timer: any\r\n  counter: string[]\r\n\r\n  constructor () {\r\n    this.visible = false\r\n    this.msg = undefined\r\n    this.visibleTimestamp = 0\r\n    this.delay = 200\r\n    this.timer = -1\r\n    this.counter = []\r\n\r\n    makeObservable<LoadingStore, '_show' | '_hide'>(this, {\r\n      visible: observable,\r\n      msg: observable,\r\n      counter: observable,\r\n      isVisible: computed,\r\n      show: action,\r\n      hide: action,\r\n      _show: action,\r\n      _hide: action\r\n    })\r\n  }\r\n\r\n  get isVisible () {\r\n    let target: any = {}\r\n    this.counter.forEach((count: string) => {\r\n      target[count] = true\r\n    })\r\n    return target\r\n  }\r\n\r\n  show (msg: string = '请稍后...', type: string = 'manualOperation') {\r\n    this.counter = [...this.counter, type]\r\n    clearTimeout(this.timer)\r\n\r\n    msg && (this.msg = msg)\r\n    this.timer = setTimeout(() => { this._show() }, this.delay)\r\n  }\r\n\r\n  private _show () {\r\n    this.visibleTimestamp = new Date().getTime()\r\n    this.visible = true\r\n  }\r\n\r\n  /**\r\n   * 隐藏 Loading 组件\r\n   * @param {boolean} force 强制立即关闭\r\n   * show 和 hide 是成对出现的，所以 force 时，不需要清空 counter\r\n   */\r\n  hide (force: boolean = false, type: string = 'manualOperation') {\r\n    if (!force) {\r\n      this.counter = this.counter.filter((count: string) => count !== type)\r\n    }\r\n    if (this.counter.length <= 0 || force) {\r\n      clearTimeout(this.timer)\r\n      const timestamp = new Date().getTime()\r\n      if (this.visible && timestamp - this.visibleTimestamp <= 300) {\r\n        // show 和 hide 之间的间隔不足 300ms 时， 加载动画至少存在 300ms\r\n        setTimeout(() => { this._hide() }, 300)\r\n      } else {\r\n        this._hide()\r\n      }\r\n    }\r\n  }\r\n\r\n  private _hide () {\r\n    this.visible = false\r\n  }\r\n}\r\n\r\nconst loadingStore = new LoadingStore()\r\n\r\nexport default loadingStore","import { makeObservable, observable, runInAction } from 'mobx'\r\nimport { $consts } from 'src/plugins'\r\nimport { cloneDeep } from 'lodash'\r\n\r\nexport type Message = {\r\n  Id: string,\r\n  RelateId: string,\r\n  Title: string,\r\n  Message: string,\r\n  Time: string,\r\n  TypeCode: number,\r\n  [propsName: string]: any\r\n}\r\n\r\nexport type Notice = {\r\n  TypeCode: string,\r\n  Data: Message[],\r\n  UnRead: number\r\n}\r\n\r\nexport type Notices = Notice[]\r\n\r\nclass NoticeStore {\r\n  /**\r\n   * 将初始化的步骤移动到 constructor 中，\r\n   * 并且请务必初始化，否则 babel 插件 plugin-transform-flow-strip-types 编译失败，\r\n   * 相关联 issue: \r\n   * https://github.com/react-navigation/react-navigation/issues/5825#issuecomment-590723220\r\n   * https://github.com/facebook/react-native/issues/20150#issuecomment-417858270\r\n   */\r\n  visible: boolean\r\n  notices: Notices\r\n  activeNotice?: Message\r\n\r\n  constructor () {\r\n    this.visible = false\r\n    this.notices = []\r\n\r\n    makeObservable(this, {\r\n      visible: observable,\r\n      notices: observable,\r\n      activeNotice: observable\r\n    })\r\n  }\r\n\r\n  setVisible (visible: boolean) {\r\n    runInAction(() => {\r\n      this.visible = visible\r\n    })\r\n  }\r\n\r\n  setNotice (notice: Notice) {\r\n    if (!notice) return\r\n    // store notice 消息\r\n    const findIndex = this.notices.findIndex((item: Notice) => item.TypeCode === notice.TypeCode)\r\n    if (findIndex !== -1) {\r\n      runInAction(() => {\r\n        this.notices.splice(findIndex, 1, notice)\r\n      })\r\n    } else {\r\n      runInAction(() => {\r\n        this.notices.push(notice)\r\n      })\r\n    }\r\n    // 半闭环消息的强提醒\r\n    if (notice.TypeCode === $consts['SOCKET/LOOP_LIST'] && notice.Data && notice.Data[0]) {\r\n      this.setActiveNotice(notice.Data[0])\r\n    }\r\n  }\r\n\r\n  setActiveNotice (msg: Message) {\r\n    runInAction(() => {\r\n      this.activeNotice = cloneDeep(msg)\r\n    })\r\n  }\r\n}\r\n\r\nconst noticeStore = new NoticeStore()\r\n\r\nexport default noticeStore","import { makeObservable, observable, runInAction } from 'mobx'\r\n\r\nclass ControlStore {\r\n  /**\r\n   * 将初始化的步骤移动到 constructor 中，\r\n   * 并且请务必初始化，否则 babel 插件 plugin-transform-flow-strip-types 编译失败，\r\n   * 相关联 issue: \r\n   * https://github.com/react-navigation/react-navigation/issues/5825#issuecomment-590723220\r\n   * https://github.com/facebook/react-native/issues/20150#issuecomment-417858270\r\n   */\r\n  groupChangeDone: boolean\r\n\r\n  constructor () {\r\n    this.groupChangeDone = true\r\n\r\n    makeObservable(this, {\r\n      groupChangeDone: observable\r\n    })\r\n  }\r\n\r\n  setGroupChangeStatus (isDone: boolean) {\r\n    runInAction(() => {\r\n      this.groupChangeDone = isDone\r\n    })\r\n  }\r\n}\r\n\r\nconst controlStore = new ControlStore()\r\n\r\nexport default controlStore","import { $consts } from 'src/plugins'\r\nimport { random } from 'lodash'\r\n\r\nconst RFC4122_TEMPLATE = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'\r\n\r\nfunction replacePlaceholders (placeholder?: string) {\r\n  let value = random(15)\r\n  // eslint-disable-next-line no-mixed-operators\r\n  value = placeholder === 'x' ? value : (value & 0x3 | 0x8)\r\n  return value.toString(16)\r\n}\r\n\r\nexport function uuid () {\r\n  return RFC4122_TEMPLATE.replace(/[xy]/g, replacePlaceholders)\r\n}\r\n\r\n/**\r\n * 获取菜单树第一层级的最叶子菜单进行渲染\r\n * @param tree 菜单树\r\n * @returns \r\n */\r\nexport function getFirstValidTree (tree: any): any {\r\n  if (Array.isArray(tree.Children) && tree.Children.length) {\r\n    return getFirstValidTree(tree.Children[0])\r\n  }\r\n  return tree.Node.ID\r\n}\r\n\r\n/**\r\n * 拍平菜单树\r\n * @param menus 菜单树\r\n * @param parentMenu 方法内部变量，可传 undefined\r\n * @param flatMenus 需要生成的一维菜单\r\n */\r\nexport function recurseMenu (menus: any, parentMenu: any = {}, flatMenus: any = []) {\r\n  menus.forEach((menu: any) => {\r\n    const { Node: Menu, Children: ChildMenus } = menu\r\n    menu.Menu = Menu\r\n    menu.ChildMenus = ChildMenus\r\n    Menu.idLevels = (parentMenu.idLevels || []).concat(Menu.ID)\r\n    Menu.nameLevels = (parentMenu.nameLevels || []).concat(Menu.NAME)\r\n    Menu.menuLevels = (parentMenu.menuLevels || []).concat(Menu.MENU_LEVEL)\r\n    Menu.childMenuLevels = (parentMenu.childMenuLevels || []).concat([ChildMenus])\r\n    flatMenus.push(Menu)\r\n    ChildMenus && ChildMenus.length && recurseMenu(ChildMenus, Menu, flatMenus)\r\n  })\r\n}\r\n\r\n/**\r\n * 根据相对接口地址获取当前环境下对应的基础地址\r\n * @param path 相对接口地址\r\n * @param prefixPath 接口分割符\r\n * @returns \r\n */\r\nexport function getBaseURL (path: string, prefixPath: string = $consts['CONFIG/API_PREFIX_PATH']) {\r\n  // 获取接口上下文环境，例如：'http://192.168.2.98'\r\n  const { hostname } = window.location\r\n  const processEnv = $consts['CONFIG/PROCESS_ENVS'].find((env: any) => env.value.indexOf(hostname) !== -1) || { name: 'PRODUCTION_BASE' }\r\n  const rootURL = $consts['CONFIG/AXIOS_BASE_URLS'].find((base: any) => base.name === processEnv.name).value\r\n  // 如果 rootURL 本身就带端口了，那么拼接 rootURL 和 perfixPath\r\n  const index = rootURL.lastIndexOf(':')\r\n  if (index !== -1) {\r\n    const port = rootURL.substring(index + 1)\r\n    if (port && !isNaN(port)) {\r\n      return `${rootURL}${prefixPath}`\r\n    }\r\n  }\r\n  // 根据接口路径获取端口并与预设api前缀拼接，例如：':3002/api'\r\n  const findModule = Object.keys($consts['CONFIG/API_PORT']).find(key => path.indexOf(key) !== -1)\r\n  const prefixUrl = `:${findModule ? $consts['CONFIG/API_PORT'][findModule] : $consts['CONFIG/API_PORT'].all}${prefixPath}`\r\n  // 得到baseURL，例如：'http://192.168.2.98:3002/api'\r\n  return `${rootURL}${prefixUrl}`\r\n}\r\n\r\n/**\r\n * 获取当前环境下对应的 WebSocket 地址\r\n * @returns \r\n */\r\nexport function getSocketURL () {\r\n  const { hostname } = window.location\r\n  const processEnv = $consts['CONFIG/PROCESS_ENVS'].find((env: any) => env.value.indexOf(hostname) !== -1) || { name: 'PRODUCTION_BASE' }\r\n  return $consts['CONFIG/SOCKET_URLS'].find((base: any) => base.name === processEnv.name).value\r\n}\r\n\r\n/**\r\n * 用于判断非0或false的空值\r\n * @param val \r\n * @returns \r\n */\r\nexport function isEmpty (val: any) {\r\n  return !val && val !== 0 && val !== false\r\n}\r\n"],"sourceRoot":""}